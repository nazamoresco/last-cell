<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <title>Last Cell</title>
  </head>
  <body>
    <div class="container">
      <div class="canvas-container">
        <canvas id="canvas" width="500" height="500"></canvas>
        <div class="docu">
          <h1>Last cell</h1>
          <h3>Code interative cell automata system</h3>
          <br />
          <p>You can define the behaviour of a kind of cell with a javascript function.</p>
          <p>The next object is expected to be returned from the function:</p>
          <p>
            returned_object = { <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x: x_position_to_move, <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y: y_position_to_move, <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action: action_to_perform <br />
            } // any other key is ignored
          </p>
          <br />
          <p>You receive two arguments in the function, cell and surroundings:</p>
          <p>
            <code>cell</code> represents the cell object that is executing the function.
          </p>
          <p>
            <code>surroundings</code> represents a collection of surrounding objects.
          </p>
          <p>
            the surrounding object represents a pixel with the following attributes: x,
            y, contains.
          </p>
          <p>
            &nbsp;&nbsp;* x represents the position in horizonal axis for the pixel
          </p>
          <p>
            &nbsp;&nbsp;* y represents the position in vertical axis for the pixel
          </p>
          <p>
            &nbsp;&nbsp;* 'contains' is the ocupier cell identifier or "nothing"
            if no cell is present.
          </p>
          <br />
          <p>Availables actions</p>
          <p>
            &nbsp;&nbsp;* ACTION_MOVE, the cell moves to the selected position
          </p>
          <p>
            &nbsp;&nbsp;* ACTION_ATTACK, the cell destroys any ocupier cell in
            the selected position
          </p>
        </div>
      </div>
      <div id="definitions">
        <div id="0" name="definition" class="particle">
          <div id="props">
            <div>
              <p>id:</p>
              <input id="identifier" class="identifier" value="cell" />
            </div>
            <div>
              <p>quantity:</p>
              <input id="quantity" class="quantity"  type="number" value="100" />
            </div>
            <div>
              <p>color:</p>
              <input id="color" class="color"  type="color" value="#ffffff" />
            </div>
          </div>
          <div id="function">
            <p id="feedback" class="feedback">// everything is cool :)</p>
            <textarea
              oninput="auto_grow(this)"
              id="behaviour"
              spellcheck="false"
              class="behaviour"
            >
(cell, surroundings) => {
  let toDo = surroundings[Math.floor(Math.random() * surroundings.length)];
  toDo.action = ACTION_MOVE;
  return toDo;
}
        </textarea
            >
          </div>
        </div>
        <button id="newDefinition"> Create new definition </button>
      </div>

      <script type="text/javascript" src="./main.js"></script>
    </div>
  </body>
</html>
